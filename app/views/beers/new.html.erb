<% content_for :title, "New beer" %>

<h1 class="mt-3">New beer</h1>

<% if @beer.errors.any? %>
  <div style ="color: red">
  <h2><%= pluralize(@beer.errors.count, "error") %> prohibited this beer from being saved:</h2>

  <ul>
    <% @beer.errors.each do |error| %>
      <li><%= error.full_message %></li>
    <% end %>
  </ul>  
  </div>
<% end %>

<%= form_for(@beer) do |b| %>
  <div class="mb-2">  
    <%= b.label :name, class:'form-label' %>
    <%= b.text_field :name, class:'form-control'%>
  </div>
  <div class="mb-2">
    <%= b.label :style, class:'form-label' %>
    <%= b.select :style_id, options_from_collection_for_select(@styles, :id, :name, selected: @beer.style_id), {}, { :class => 'form-select' } %>
  </div>
  <div class="mb-2">
    <%= b.label :brewery, class:'form-label' %>
    <%= b.select :brewery_id, options_from_collection_for_select(@breweries, :id, :name, selected: @beer.brewery_id), {}, { :class => 'form-select' }%>
  </div>
  <%= b.submit "Create Beer", class:"btn btn-primary"%>
<% end %>

<br>

<div>
  <%= link_to "Back to beers", beers_path %>
</div>
